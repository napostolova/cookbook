<section class="container">
  <form [formGroup]="form" class="register" method="post" (ngSubmit)="register()">
    <h1>Create account</h1>
    <div class="form-group">
      <label for="username" class="label">Username</label>
      <input type="text" name="username" class="form-control" id="username" placeholder="Marie" 
            formControlName="username">
      <ng-container *ngIf="form.get('username')?.touched">
        <p *ngIf="form.get('username')?.errors?.required" class="error">
          Username is required!
        </p>
        <p *ngIf="form.get('username')?.errors?.minlength" class="error">
          Username should be at least 5 symbols!
        </p>
      </ng-container>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" name="email" class="form-control" id="email" placeholder="marie.rose@gmail.com"
        formControlName="email">
      <ng-container *ngIf="form.get('email')?.touched">
        <p *ngIf="form.get('email')?.errors?.required" class="error">
          Email is required!
        </p>
        <p *ngIf="form.get('email')?.errors?.invalidEmail" class="error">
          Email is invalid!
        </p>
      </ng-container>
    </div>


    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" name="password" class="form-control" id="password" placeholder="*******"
        formControlName="password">
      <ng-container *ngIf="form.get('password')?.touched">
        <p *ngIf="form.get('password')?.errors?.required" class="error">
          Password is required!
        </p>
        <p *ngIf="form.get('password')?.errors?.minlength" class="error">
          Password should be at least 5 symbols!
        </p>
      </ng-container>
    </div>

    <div class="form-group">
      <label for="rePassword">Confirm Password</label>
      <input type="password" name="rePassword" class="form-control" id="rePassword" placeholder="*******"
        formControlName="rePassword">
      <ng-container *ngIf="form.get('rePassword')?.touched">
        <p *ngIf="form.get('rePassword')?.errors?.required" class="error">
          Password is required!
        </p>
        <p *ngIf="form.get('rePassword')?.errors?.invalid" class="error">
          Passwords don't match!
        </p>
      </ng-container>
    </div>

    <button type="submit" class="btn" [disabled]="!form.valid">Register</button>
    <div>
      <p>Already have an account? <a class="link" routerLink="/login">Log in</a></p>
    </div>
  </form>
</section>